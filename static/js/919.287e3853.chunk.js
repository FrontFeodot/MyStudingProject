"use strict";(self.webpackChunkmy_studing_project=self.webpackChunkmy_studing_project||[]).push([[919],{8919:function(e,s,a){a.r(s),a.d(s,{default:function(){return f}});a(2791);var n=a(8687),i=a(7781),o=a(8683),r=a(6871),t=a(184),d=function(e){return{isAuth:e.auth.isAuth}},g=a(5456),l={dialogs:"Dialogs_dialogs__XZOqL",dialog:"Dialogs_dialog__AFixY",active:"Dialogs_active__b1X9k",messages:"Dialogs_messages__gPRQ9",img:"Dialogs_img__9b5DG"},u=a(3504);var c=function(e){var s="/dialogs/"+e.id;return(0,t.jsx)("div",{className:l.dialog+" "+l.active,children:(0,t.jsxs)(u.OL,{to:s,children:[(0,t.jsx)("img",{className:l.img,src:e.img,alt:"".concat(e.name,"'s avatar")}),e.name]})})};var m=function(e){return(0,t.jsx)("div",{children:e.message})},h=a(5705),j=a(3284),x=a(6432),v=function(e){var s=(0,h.TA)({initialValues:{newMessageBody:""},validationSchema:j.Ry({newMessageBody:j.Z_().max(300,"Too much message")}),onSubmit:function(s){e.sendMessage(s.newMessageBody)}});return(0,t.jsx)(h.J9,{initialValues:s.initialValues,onSubmit:s.handleSubmit,children:(0,t.jsxs)(h.l0,{children:[(0,t.jsxs)("div",{className:s.errors.newMessageBody&&s.touched.newMessageBody&&x.Z.error,children:[(0,t.jsx)("textarea",{className:x.Z.messageForm,name:"newMessageBody",id:"newMessageBody",placeholder:"Enter your message",onBlur:s.handleBlur,onChange:s.handleChange,value:s.values.newMessageBody}),s.errors.newMessageBody&&s.touched.newMessageBody&&(0,t.jsx)("span",{children:s.errors.newMessageBody})]}),(0,t.jsx)("button",{type:"submit",children:"Send message"})]})})},_=function(e){var s=e.dialogsPage,a=s.dialogsData.map((function(e){return(0,t.jsx)(c,{name:e.name,id:e.id,img:e.img},e.id)})),n=s.messagesData.map((function(e){return(0,t.jsx)(m,{id:e.id,message:e.message},e.id)}));return e.isAuth?(0,t.jsxs)("div",{className:l.dialogs,children:[(0,t.jsx)("div",{className:l.dialogsElements,children:a}),(0,t.jsxs)("div",{className:l.messages,children:[(0,t.jsx)("div",{children:n}),(0,t.jsx)("div",{}),(0,t.jsx)(v,{sendMessage:e.sendMessage})]})]}):(0,t.jsx)(r.Fg,{to:"/Login"})},f=(0,i.qC)((function(e){return(0,n.$j)(d)((function(s){return s.isAuth?(0,t.jsx)(e,(0,o.Z)({},s)):(0,t.jsx)(r.Fg,{to:"/login"})}))}),(0,n.$j)((function(e){return{dialogsPage:e.messagesPage}}),(function(e){return{sendMessage:function(s){e((0,g.X)(s))}}})))(_)}}]);
//# sourceMappingURL=919.287e3853.chunk.js.map